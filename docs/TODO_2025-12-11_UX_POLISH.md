# UX改善 & リリース前最終確認 TODO (2025-12-11)

全体を俯瞰し、ユーザー体験(UX)を完璧にするために必要なタスクを優先度順に整理しました。

## 🔴 Priority: High (Must for Release)
**契約・決済・アカウント周りの信頼性担保**

- [x] **Stripe Webhookの完全性確認**
  - `invoice.payment_succeeded` イベントで領収書自動送信を実装しました。（Cronジョブ廃止）
  - `checkout.session.completed` で `createdDate` を保存するように修正しました。

- [x] **トライアル期間終了の通知**
  - 毎日定時に、登録から10日経過（残り4日）したユーザーを抽出してメール通知するロジックを修正・実装完了。
  - *Goal*: 「勝手に課金された」というクレームを防ぐ。

- [ ] **ネットワークエラー時の挙動**
  - オフライン時やサーバーダウン時に、拡張機能が「ローディングのまま固まる」のではなく、「接続を確認してください」等の親切なメッセージを出せているか。
  - *Goal*: 不具合と勘違いされないようにする。

## 🟡 Priority: Medium (Better UX)
**オンボーディングとユーザビリティ**

- [ ] **初回インストール時のガイド (Onboarding)**
  - 拡張機能をインストールし、ログインした直後に「まずはここをクリック」等のツールチップやガイドツアーがあるか？
  - *Action*: なければ、少なくとも「使い方」ページへのリンクを目立つ場所に配置する。

- [ ] **サポート導線の確保**
  - 何か問題が起きた時に、ユーザーがすぐに問い合わせできるフォームやメールリンクが拡張機能内にあるか？
  - *Action*: オプションページまたはポップアップ内に「サポート・要望」リンクを設置。

- [ ] **再契約フローのE2Eテスト**
  - 今回実装した「再契約ボタン」から、実際に再度決済を行い、ステータスが即座に `active` に戻るかを一筆書きで確認する。

## 🟢 Priority: Low (Polish)
**パフォーマンスと見た目**

- [ ] **ローディング速度の最適化**
  - 拡張機能（Side Panel）を開いた時の初期表示速度。
  - *Action*: 不要なアセットの読み込みがないか確認。

- [ ] **LP（ランディングページ）のスマホ表示確認**
  - PCメインのツールですが、外出先でスマホから契約確認やLP閲覧を行うユーザーのために、スマホでの表示崩れがないか確認。

---
**Next Action**:
まずは **Stripe Webhookの検証** から着手することを推奨します。ここが自動化されていないと、手動でのデータ修正運用が発生し、UX崩壊のリスクが高いためです。
