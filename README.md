# Chrome to Medical

クラウド型電子カルテ向けのChrome拡張機能。AIによる診療記録作成支援と固定文挿入機能により、医療現場での業務効率化を実現します。

## 概要

この拡張機能は、電子カルテシステムでの記録作成業務を支援するために開発されました。医療現場特有の定型文や診療記録をAIで効率的に作成し、電子カルテシステムへ直接挿入することができます。

## 主要機能

### Phase 1: コア機能
- 🎯 **AI診療記録作成** - Claude APIを活用した診療記録の自動生成
- 📝 **固定文挿入** - よく使う定型文をテンプレートとして管理・挿入
- 💾 **テンプレート管理** - 診療科・症状別のテンプレート保存
- 🔒 **セキュアな操作** - ローカル処理優先、データ送信の明示

### Phase 2以降（予定）
- 📊 音声入力からの自動文字起こし
- 🔍 過去記録の検索・参照機能
- 📱 マルチデバイス同期
- 🏥 主要電子カルテシステムへの最適化

## インストール方法

### 開発版（ローカルインストール）

1. このリポジトリをクローンまたはダウンロード
```bash
git clone https://github.com/NikoToRA/Chrome_to_Medical.git
```

2. Chromeで `chrome://extensions/` を開く
3. 「デベロッパーモード」を有効にする
4. 「パッケージ化されていない拡張機能を読み込む」をクリック
5. `Chrome_to_Medical` ディレクトリを選択

### Chrome Web Store版（予定）

Chrome Web Storeでの公開を準備中です。

## 使用方法

### 基本的な使い方

1. Chrome拡張機能のアイコンをクリックしてサイドパネルを開く
2. 使用したい機能を選択：
   - **AI記事作成**: 患者情報や症状を入力してAIに記録を生成させる
   - **固定文挿入**: 保存済みのテンプレートから選択して挿入
3. 生成・選択したテキストを確認・編集
4. 「挿入」ボタンで電子カルテシステムへ直接入力

### テンプレートの作成

1. サイドパネルの「設定」タブを開く
2. 「新しいテンプレート」をクリック
3. テンプレート名とテキスト内容を入力
4. カテゴリ（診療科・症状など）を設定して保存

## セキュリティとプライバシー

### データの取り扱い

- ✅ テンプレートデータはローカルストレージに保存
- ✅ AI機能使用時のデータ送信は事前に明示・同意取得
- ✅ 患者情報は匿名化を推奨
- ✅ 通信は全てHTTPS経由で暗号化

### 推奨される使用方法

1. 個人を特定できる情報（氏名、住所等）は入力しない
2. AI生成結果は必ず医療従事者が確認・修正する
3. 重要な記録は電子カルテシステム側でバックアップを取る

詳細は [SECURITY.md](SECURITY.md) および [PRIVACY.md](PRIVACY.md) を参照してください。

## 対応電子カルテシステム

現在、以下のシステムでの動作を確認しています：

- 汎用的なWebベース電子カルテ（標準的なテキストエリア）
- Google Docs（記録作成の下書き用途）

今後、主要な電子カルテシステムへの最適化を進めます。

## 技術スタック

- **拡張機能**: Chrome Extension Manifest V3
- **AI**: Claude API (Anthropic)
- **UI**: Vanilla JavaScript + CSS
- **ストレージ**: Chrome Storage API

## ファイル構成

```
Chrome_to_Medical/
├── manifest.json          # 拡張機能の設定ファイル
├── background.js          # バックグラウンドスクリプト
├── sidepanel/            # サイドパネルUI
│   ├── sidepanel.html
│   ├── sidepanel.css
│   └── sidepanel.js
├── content/              # コンテンツスクリプト
│   ├── platforms/        # プラットフォーム別ハンドラー
│   │   └── generic.js   # 汎用ハンドラー
│   └── content.js       # メインコンテンツスクリプト
├── options/              # 設定画面
│   ├── options.html
│   ├── options.css
│   └── options.js
├── utils/                # ユーティリティ
│   ├── aiAgents.js      # AI関連処理
│   ├── storage.js       # ストレージ管理
│   └── templates.js     # テンプレート管理
└── icons/                # アイコンファイル
```

## 開発

### 前提条件

- Chrome 114以上（Side Panel API対応）
- Node.js 18以上（開発環境）

### セットアップ

```bash
# 依存関係のインストール
npm install

# 開発モードで実行
npm run dev
```

### Claude開発ガイドライン

このプロジェクトはClaudeによる開発を想定しています。詳細は [CLAUDE.md](CLAUDE.md) を参照してください。

## 派生元プロジェクト

このプロジェクトは [Chrome to X](https://github.com/NikoToRA/Chrome_to_X) から派生し、医療現場向けに特化した機能を実装しています。

履歴とコア機能の一部は Chrome to X から継承していますが、以下の点で独立したプロダクトです：

- 対象ユーザー: SNS運用者 → 医療従事者
- 主要機能: SNS投稿作成 → 診療記録作成支援
- セキュリティ要件: 一般的な運用 → 医療情報の取り扱い基準

## ライセンス

MIT License

## 貢献

貢献は歓迎します！詳細は [CONTRIBUTING.md](CONTRIBUTING.md) を参照してください。

## サポート

- 問題報告: [GitHub Issues](https://github.com/NikoToRA/Chrome_to_Medical/issues)
- セキュリティ関連: [SECURITY.md](SECURITY.md) を参照

## 免責事項

この拡張機能は診療業務の補助を目的としており、医療判断の代替となるものではありません。生成された記録は必ず医療従事者が確認し、適切に修正・承認してください。

本拡張機能の使用により生じたいかなる損害についても、開発者は責任を負いかねます。
